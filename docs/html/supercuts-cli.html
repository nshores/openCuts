<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>openCuts.supercuts-cli API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>openCuts.supercuts-cli</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import configparser
import opencuts
import os
import sys

&#34;&#34;&#34; A CLI for Regis Salons.
&#34;&#34;&#34;
DRY_RUN = True

# Check to make sure the config exists
if not os.path.exists(&#34;config.ini&#34;):
    print(&#34;Error: The config file does not exist.&#34;)
    sys.exit(1)

# Read the config
config = configparser.ConfigParser()
config.read(&#34;config.ini&#34;)


# Get values from the config file
SALON_ID = config.get(&#34;Opencuts&#34;, &#34;salon_id&#34;)
REGIS_API_KEY = config.get(&#34;Opencuts&#34;, &#34;regis_api_key&#34;)
REGIS_API_BOOKING_KEY = config.get(&#34;Opencuts&#34;, &#34;regis_booking_api_key&#34;)
MY_SERVICE = config.get(&#34;Preferences&#34;, &#34;my_service&#34;)
MY_STYLIST = config.get(&#34;Preferences&#34;, &#34;my_stylist&#34;)
FIRST_NAME = config.get(&#34;Preferences&#34;, &#34;first_name&#34;)
LAST_NAME = config.get(&#34;Preferences&#34;, &#34;last_name&#34;)
PHONE_NUMBER = config.get(&#34;Preferences&#34;, &#34;phone_number&#34;)
EMAIL_ADDRESS = config.get(&#34;Preferences&#34;, &#34;email&#34;)


def clear_screen():
    # For Windows
    if os.name == &#34;nt&#34;:
        _ = os.system(&#34;cls&#34;)
    # For macOS and Linux
    else:
        _ = os.system(&#34;clear&#34;)


# Our menu function and logic for each action
def main_menu():
    while True:
        clear_screen()
        print(&#34;openCuts is running! ðŸ’‡\n&#34;)
        print(&#34;Salon Type:&#34;, mySalon.pos_type)
        print(
            &#34;Store Info:&#34;, mySalon.storeaddress, mySalon.storename, mySalon.storephone
        )
        print(
            &#34;My SALON_ID:&#34;,
            SALON_ID + &#34;\n&#34; &#34;MY_SERVICE:&#34;,
            MY_SERVICE + &#34;\n&#34; &#34;MY_STYLIST:&#34;,
            MY_STYLIST + &#34;\n&#34;,
        )
        print(&#34;\nMain Menu:\n&#34;)
        print(&#34;1. Book an Appointment&#34;)
        print(&#34;2. View My Appointments&#34;)
        print(&#34;3. Cancel Appointment&#34;)
        print(&#34;4. View Store Services&#34;)
        print(&#34;5. View Store Stylists&#34;)
        print(&#34;6. Exit&#34;)

        choice = input(&#34;Enter your choice (1-6): &#34;)

        if choice == &#34;1&#34;:
            if mySalon.pos_type.lower() == &#34;zenoti&#34;:
                # look up the ID for the stylist and service
                selected_stylist = mySalon.find_stylist_by_name(MY_STYLIST)
                selected_service = mySalon.find_service_by_name(MY_SERVICE)

                # get some booking slots for the stylist and service selected
                booking_id = mySalon.create_service_booking(
                    selected_service, selected_stylist
                )
                booking_slots = mySalon.get_booking_slot(booking_id)
                # Present and select a slot if there are any slots available
                # TODO Perhaps move this to a method
                if len(booking_slots) &gt; 0:
                    print(
                        &#34;\n--------------------\n&#34;,
                        &#34;Choose an open slot:&#34;,
                        &#34;\n--------------------\n&#34;,
                    )
                    # Using enumerate with its default start value (0)
                    for slot_num, slot in enumerate(booking_slots[&#34;slots&#34;]):
                        print(f&#34;[{slot_num}] - Time Slot {slot[&#39;Time&#39;]} Available\n&#34;)
                    selected_slot = None
                    while selected_slot is None:
                        selected_slot_num = int(input(&#34;Select Slot:&#34;))
                        # Directly use the input number as the index
                        selected_slot = booking_slots[&#34;slots&#34;][selected_slot_num]
                    print(&#34;Selected Slot: &#34; + selected_slot[&#34;Time&#34;])
                    # If you select a slot, continue the rest of the booking flow
                    # TODO - Refactor this to a method
                    print(&#34;Looking up account information&#34;)
                    try:
                        account_id = mySalon.retrive_guest_detail(
                            first_name=FIRST_NAME,
                            last_name=LAST_NAME,
                            phone=PHONE_NUMBER,
                        )
                        account_id = account_id[&#34;id&#34;]
                    except:
                        print(&#34;Coud not look up account information&#34;)
                    # Flow to handle creating an account if none exists
                    if not account_id:
                        print(&#34;You neeed to make an account - Creating one&#34;)
                        account_id = mySalon.create_account(
                            first_name=FIRST_NAME,
                            last_name=LAST_NAME,
                            phone_number=PHONE_NUMBER,
                        )
                        account_id = account_id[&#34;id&#34;]
                    # Get another unique booking_ID passing in the user information this time
                    booking_id = mySalon.create_service_booking(
                        selected_service, selected_stylist, account_id
                    )
                    # Logic to actually reserve and confirm your slot
                    if not DRY_RUN:
                        print(&#34;Reserving slot&#34;)
                        try:
                            mySalon.reserve_selected_slot(selected_slot, booking_id)
                        except:
                            print(&#34;Could not reserve slot&#34;)
                            sys.exit()
                        print(&#34;Confirming Slot&#34;)
                        try:
                            mySalon.confirm_selected_slot(booking_id)
                        except:
                            print(&#34;Could not confirm slot&#34;)
            else:
                selected_service = str(mySalon.find_service_by_name(MY_SERVICE))
                booking_slots = mySalon.get_availability_of_salon(selected_service)
                # TODO Present and select a slot if there are any slots available
                # TODO Perhaps move this to a method
                if len(booking_slots) &gt; 0:
                    if MY_STYLIST == &#34;&#34;:
                        # Logic to choose a name since we don&#39;t have one defined
                        print(
                            &#34;\n--------------------\n&#34;,
                            &#34;Choose a name:&#34;,
                            &#34;\n--------------------\n&#34;,
                        )
                        # Using enumerate with its default start value (0)
                        for slot_num, slot in enumerate(booking_slots):
                            print(f&#34;[{slot_num}] Name: {slot[&#39;name&#39;]}\n&#34;)
                        selected_slot = None
                        while selected_slot is None:
                            selected_slot_num = int(input(&#34;Select Name:&#34;))
                            # Directly use the input number as the index
                            selected_slot = booking_slots[selected_slot_num]
                    # We already have a name defined
                    else:
                        # Find the object containing the name we want to search for
                        for name in booking_slots:
                            if name[&#34;name&#34;] == MY_STYLIST:
                                selected_slot = name
                    print(&#34;Available Timeslots: &#34;)
                    timeslots = []
                    for hour_block in selected_slot[&#34;times&#34;][&#34;hours&#34;]:
                        hour = hour_block[&#34;h&#34;]
                        for slot, minute in enumerate(hour_block[&#34;m&#34;]):
                            # Format the time as HH:MM
                            formatted_time = f&#34;{hour:02d}:{minute:02d}&#34;
                            timeslots.append(formatted_time)
                    for slot, time in enumerate(timeslots):
                        print(f&#34;[{slot}] - Time {time}&#34;)
                    selected_time = int(input(&#34;Select a timeslot:&#34;))
                    time = timeslots[selected_time]
                    selected_stylist = selected_slot[&#34;name&#34;]
                    selected_stylist_id = selected_slot[&#34;employeeID&#34;]
                    time = time.replace(
                        &#34;:&#34;, &#34;&#34;
                    )  # format time to match what the API expects
                    # Create a list to send my service in
                    formatted_service = []
                    formatted_service.append(MY_SERVICE)
                    clear_screen()
                    print(f&#34;Selected time: {timeslots[selected_time]}&#34;)
                    print(
                        f&#34;Selected Stylist: {selected_stylist} - ID: {selected_stylist_id}  &#34;
                    )
                    print(f&#34;Selected Service: {MY_SERVICE} - ID: {selected_service} &#34;)
                    # If you select a slot, continue the rest of the booking flow
                    choice = input(&#34;Ready to book? - Respond with Y/N:\n&#34;)
                    if choice == &#34;Y&#34;:
                        checkin = mySalon.add_check_in(
                            firstname=FIRST_NAME,
                            lastname=LAST_NAME,
                            phonenumber=PHONE_NUMBER,
                            serviceid=selected_service,
                            services=formatted_service,
                            stylistid=selected_stylist_id,
                            stylistname=selected_stylist,
                            time=time,
                            emailaddress=EMAIL_ADDRESS,
                        )
                        print(checkin)
            input(&#34;Press any key to continue&#34;)
        elif choice == &#34;2&#34;:
            # TODO - Refactor this to a method
            if mySalon.pos_type.lower() == &#34;zenoti&#34;:
                print(&#34;Looking up account information&#34;)
                try:
                    account_id = mySalon.retrive_guest_detail(
                        first_name=FIRST_NAME, last_name=LAST_NAME, phone=PHONE_NUMBER
                    )
                    account_id = account_id[&#34;id&#34;]
                except:
                    print(&#34;Coud not look up account information&#34;)
                # Flow to handle creating an account if none exists
                if not account_id:
                    print(&#34;You neeed to make an account - Creating one&#34;)
                    account_id = mySalon.create_account(
                        first_name=FIRST_NAME,
                        last_name=LAST_NAME,
                        phone_number=PHONE_NUMBER,
                    )
                    account_id = account_id[&#34;id&#34;]
                appointments = mySalon.get_appointments(account_id)
                if not appointments:
                    print(&#34;No Appointments today&#34;)
                else:
                    print(&#34;Your Appointments Today:&#34;)
                    print(appointments)
            else:
                print(&#34;Looking up appointments&#34;)
                appointments = mySalon.get_check_in_by_source()
                if not appointments:
                    print(&#34;No Appointments today&#34;)
                else:
                    print(&#34;Your Appointments Today:&#34;)
                    for apt in appointments:
                        print(
                            f&#34;{apt[&#39;date&#39;]} - {apt[&#39;time&#39;]} - service {apt[&#39;services&#39;][0]}&#34;
                        )
            input(&#34;Press any key to continue&#34;)
        elif choice == &#34;3&#34;:
            # TODO - Make this call a method.
            # TODO - add suppport for non-zenoti. Use the souceID to find the appointment checkinId and call cancelcheckin
            if mySalon.pos_type.lower() == &#34;zenoti&#34;:
                print(&#34;Looking up account information&#34;)
                try:
                    account_id = mySalon.retrive_guest_detail(
                        first_name=FIRST_NAME, last_name=LAST_NAME, phone=PHONE_NUMBER
                    )
                    account_id = account_id[&#34;id&#34;]
                except:
                    print(&#34;Coud not look up account information&#34;)
                # Flow to handle creating an account if none exists
                if not account_id:
                    print(&#34;You neeed to make an account - Creating one&#34;)
                    account_id = mySalon.create_account(
                        first_name=FIRST_NAME,
                        last_name=LAST_NAME,
                        phone_number=PHONE_NUMBER,
                    )
                    account_id = account_id[&#34;id&#34;]
                appointments = mySalon.get_appointments(account_id)
                print(appointments)
                if len(appointments) &gt; 0:
                    print(&#34;Appointment List:&#34;)
                    # Using enumerate with its default start value (0)
                    for slot_num, ap in enumerate(appointments):
                        print(
                            f&#34;Slot Num {slot_num} - Time Slot {ap[&#39;appointment_services&#39;][&#39;start_time&#39;]} \n&#34;
                        )
                    selected_slot_num = None
                    while selected_slot_num is None:
                        selected_slot_num = int(input(&#34;Select Slot:&#34;))
                        # Directly use the input number as the index
                        selected_appointment = appointments[selected_slot_num]
                    print(
                        &#34;Selected Appointment: &#34;
                        + selected_appointment[&#34;appointment_services&#34;][&#34;start_time&#34;]
                    )
                    print(&#34;Cancelling Appointment&#34;)
                    mySalon.cancel_appointment(selected_appointment[&#34;invoice_id&#34;])
                else:
                    print(&#34;No Appointments found&#34;)
            else:
                print(&#34;Looking up appointments&#34;)
                appointments = mySalon.get_check_in_by_source()
                if len(appointments) &gt; 0:
                    # Using enumerate with its default start value (0)
                    for slot_num, ap in enumerate(appointments):
                        print(f&#34;[{slot_num}] - Time Slot {ap[&#39;time&#39;]} \n&#34;)
                    selected_slot_num = None
                    while selected_slot_num is None:
                        selected_slot_num = int(input(&#34;Select Appointment Slot:&#34;))
                        # Directly use the input number as the index
                        selected_appointment = appointments[selected_slot_num]
                    print(&#34;Selected Appointment: &#34; + selected_appointment[&#34;time&#34;])
                    print(&#34;Cancelling Appointment&#34;)
                    mySalon.cancel_checkin(selected_appointment[&#34;checkinId&#34;])
            input(&#34;Press any key to continue&#34;)

        elif choice == &#34;4&#34;:
            print(&#34;\nStore Services:\n&#34;)
            # TODO -  move logic to a method
            if mySalon.pos_type.lower() == &#34;zenoti&#34;:
                for service in mySalon.store_services:
                    print(
                        f&#34;Service Name: {service[&#39;catalog_info&#39;][&#39;display_name&#39;]}, ID: {service[&#39;id&#39;]}\n&#34;
                    )
            else:
                for category in mySalon.store_services:
                    print(f&#34;Category: {category[&#39;category&#39;]}\n&#34;)
                    for service in category[&#34;services&#34;]:
                        print(&#34;  Service ID:&#34;, service[&#34;id&#34;])
                        print(&#34;  Service Name:&#34;, service[&#34;service&#34;])
            input(&#34;Press any key to continue&#34;)

        elif choice == &#34;5&#34;:
            print(&#34;\nStore Stylists:\n&#34;)
            # TODO - move logic to a method
            if mySalon.pos_type.lower() == &#34;zenoti&#34;:
                for therapist in mySalon.therapists:
                    print(
                        f&#34;Stylist Name: {therapist[&#39;personal_info&#39;][&#39;name&#39;]}, ID: {therapist[&#39;id&#39;]}\n&#34;
                    )
            else:
                for therapist in mySalon.therapists:
                    print(f&#34;Stylist Name: {therapist[&#39;name&#39;]}\n&#34;)
            input(&#34;Press any key to continue&#34;)

        elif choice == &#34;6&#34;:
            print(&#34;Exiting program.&#34;)
            break
        else:
            print(&#34;Invalid choice. Please try again.&#34;)


if __name__ == &#34;__main__&#34;:
    # Instantiate the class and get some information about the salon
    mySalon = opencuts.RegisSalon(SALON_ID, REGIS_API_KEY, REGIS_API_BOOKING_KEY)
    mySalon.get_salon()  # get salon information
    mySalon.get_salon_services()  # get all the services the salon offers
    mySalon.get_therapists_working()  # get the stylist information
    # start the menu mainu
    main_menu()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="openCuts.supercuts-cli.clear_screen"><code class="name flex">
<span>def <span class="ident">clear_screen</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def clear_screen():
    # For Windows
    if os.name == &#34;nt&#34;:
        _ = os.system(&#34;cls&#34;)
    # For macOS and Linux
    else:
        _ = os.system(&#34;clear&#34;)</code></pre>
</details>
</dd>
<dt id="openCuts.supercuts-cli.main_menu"><code class="name flex">
<span>def <span class="ident">main_menu</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def main_menu():
    while True:
        clear_screen()
        print(&#34;openCuts is running! ðŸ’‡\n&#34;)
        print(&#34;Salon Type:&#34;, mySalon.pos_type)
        print(
            &#34;Store Info:&#34;, mySalon.storeaddress, mySalon.storename, mySalon.storephone
        )
        print(
            &#34;My SALON_ID:&#34;,
            SALON_ID + &#34;\n&#34; &#34;MY_SERVICE:&#34;,
            MY_SERVICE + &#34;\n&#34; &#34;MY_STYLIST:&#34;,
            MY_STYLIST + &#34;\n&#34;,
        )
        print(&#34;\nMain Menu:\n&#34;)
        print(&#34;1. Book an Appointment&#34;)
        print(&#34;2. View My Appointments&#34;)
        print(&#34;3. Cancel Appointment&#34;)
        print(&#34;4. View Store Services&#34;)
        print(&#34;5. View Store Stylists&#34;)
        print(&#34;6. Exit&#34;)

        choice = input(&#34;Enter your choice (1-6): &#34;)

        if choice == &#34;1&#34;:
            if mySalon.pos_type.lower() == &#34;zenoti&#34;:
                # look up the ID for the stylist and service
                selected_stylist = mySalon.find_stylist_by_name(MY_STYLIST)
                selected_service = mySalon.find_service_by_name(MY_SERVICE)

                # get some booking slots for the stylist and service selected
                booking_id = mySalon.create_service_booking(
                    selected_service, selected_stylist
                )
                booking_slots = mySalon.get_booking_slot(booking_id)
                # Present and select a slot if there are any slots available
                # TODO Perhaps move this to a method
                if len(booking_slots) &gt; 0:
                    print(
                        &#34;\n--------------------\n&#34;,
                        &#34;Choose an open slot:&#34;,
                        &#34;\n--------------------\n&#34;,
                    )
                    # Using enumerate with its default start value (0)
                    for slot_num, slot in enumerate(booking_slots[&#34;slots&#34;]):
                        print(f&#34;[{slot_num}] - Time Slot {slot[&#39;Time&#39;]} Available\n&#34;)
                    selected_slot = None
                    while selected_slot is None:
                        selected_slot_num = int(input(&#34;Select Slot:&#34;))
                        # Directly use the input number as the index
                        selected_slot = booking_slots[&#34;slots&#34;][selected_slot_num]
                    print(&#34;Selected Slot: &#34; + selected_slot[&#34;Time&#34;])
                    # If you select a slot, continue the rest of the booking flow
                    # TODO - Refactor this to a method
                    print(&#34;Looking up account information&#34;)
                    try:
                        account_id = mySalon.retrive_guest_detail(
                            first_name=FIRST_NAME,
                            last_name=LAST_NAME,
                            phone=PHONE_NUMBER,
                        )
                        account_id = account_id[&#34;id&#34;]
                    except:
                        print(&#34;Coud not look up account information&#34;)
                    # Flow to handle creating an account if none exists
                    if not account_id:
                        print(&#34;You neeed to make an account - Creating one&#34;)
                        account_id = mySalon.create_account(
                            first_name=FIRST_NAME,
                            last_name=LAST_NAME,
                            phone_number=PHONE_NUMBER,
                        )
                        account_id = account_id[&#34;id&#34;]
                    # Get another unique booking_ID passing in the user information this time
                    booking_id = mySalon.create_service_booking(
                        selected_service, selected_stylist, account_id
                    )
                    # Logic to actually reserve and confirm your slot
                    if not DRY_RUN:
                        print(&#34;Reserving slot&#34;)
                        try:
                            mySalon.reserve_selected_slot(selected_slot, booking_id)
                        except:
                            print(&#34;Could not reserve slot&#34;)
                            sys.exit()
                        print(&#34;Confirming Slot&#34;)
                        try:
                            mySalon.confirm_selected_slot(booking_id)
                        except:
                            print(&#34;Could not confirm slot&#34;)
            else:
                selected_service = str(mySalon.find_service_by_name(MY_SERVICE))
                booking_slots = mySalon.get_availability_of_salon(selected_service)
                # TODO Present and select a slot if there are any slots available
                # TODO Perhaps move this to a method
                if len(booking_slots) &gt; 0:
                    if MY_STYLIST == &#34;&#34;:
                        # Logic to choose a name since we don&#39;t have one defined
                        print(
                            &#34;\n--------------------\n&#34;,
                            &#34;Choose a name:&#34;,
                            &#34;\n--------------------\n&#34;,
                        )
                        # Using enumerate with its default start value (0)
                        for slot_num, slot in enumerate(booking_slots):
                            print(f&#34;[{slot_num}] Name: {slot[&#39;name&#39;]}\n&#34;)
                        selected_slot = None
                        while selected_slot is None:
                            selected_slot_num = int(input(&#34;Select Name:&#34;))
                            # Directly use the input number as the index
                            selected_slot = booking_slots[selected_slot_num]
                    # We already have a name defined
                    else:
                        # Find the object containing the name we want to search for
                        for name in booking_slots:
                            if name[&#34;name&#34;] == MY_STYLIST:
                                selected_slot = name
                    print(&#34;Available Timeslots: &#34;)
                    timeslots = []
                    for hour_block in selected_slot[&#34;times&#34;][&#34;hours&#34;]:
                        hour = hour_block[&#34;h&#34;]
                        for slot, minute in enumerate(hour_block[&#34;m&#34;]):
                            # Format the time as HH:MM
                            formatted_time = f&#34;{hour:02d}:{minute:02d}&#34;
                            timeslots.append(formatted_time)
                    for slot, time in enumerate(timeslots):
                        print(f&#34;[{slot}] - Time {time}&#34;)
                    selected_time = int(input(&#34;Select a timeslot:&#34;))
                    time = timeslots[selected_time]
                    selected_stylist = selected_slot[&#34;name&#34;]
                    selected_stylist_id = selected_slot[&#34;employeeID&#34;]
                    time = time.replace(
                        &#34;:&#34;, &#34;&#34;
                    )  # format time to match what the API expects
                    # Create a list to send my service in
                    formatted_service = []
                    formatted_service.append(MY_SERVICE)
                    clear_screen()
                    print(f&#34;Selected time: {timeslots[selected_time]}&#34;)
                    print(
                        f&#34;Selected Stylist: {selected_stylist} - ID: {selected_stylist_id}  &#34;
                    )
                    print(f&#34;Selected Service: {MY_SERVICE} - ID: {selected_service} &#34;)
                    # If you select a slot, continue the rest of the booking flow
                    choice = input(&#34;Ready to book? - Respond with Y/N:\n&#34;)
                    if choice == &#34;Y&#34;:
                        checkin = mySalon.add_check_in(
                            firstname=FIRST_NAME,
                            lastname=LAST_NAME,
                            phonenumber=PHONE_NUMBER,
                            serviceid=selected_service,
                            services=formatted_service,
                            stylistid=selected_stylist_id,
                            stylistname=selected_stylist,
                            time=time,
                            emailaddress=EMAIL_ADDRESS,
                        )
                        print(checkin)
            input(&#34;Press any key to continue&#34;)
        elif choice == &#34;2&#34;:
            # TODO - Refactor this to a method
            if mySalon.pos_type.lower() == &#34;zenoti&#34;:
                print(&#34;Looking up account information&#34;)
                try:
                    account_id = mySalon.retrive_guest_detail(
                        first_name=FIRST_NAME, last_name=LAST_NAME, phone=PHONE_NUMBER
                    )
                    account_id = account_id[&#34;id&#34;]
                except:
                    print(&#34;Coud not look up account information&#34;)
                # Flow to handle creating an account if none exists
                if not account_id:
                    print(&#34;You neeed to make an account - Creating one&#34;)
                    account_id = mySalon.create_account(
                        first_name=FIRST_NAME,
                        last_name=LAST_NAME,
                        phone_number=PHONE_NUMBER,
                    )
                    account_id = account_id[&#34;id&#34;]
                appointments = mySalon.get_appointments(account_id)
                if not appointments:
                    print(&#34;No Appointments today&#34;)
                else:
                    print(&#34;Your Appointments Today:&#34;)
                    print(appointments)
            else:
                print(&#34;Looking up appointments&#34;)
                appointments = mySalon.get_check_in_by_source()
                if not appointments:
                    print(&#34;No Appointments today&#34;)
                else:
                    print(&#34;Your Appointments Today:&#34;)
                    for apt in appointments:
                        print(
                            f&#34;{apt[&#39;date&#39;]} - {apt[&#39;time&#39;]} - service {apt[&#39;services&#39;][0]}&#34;
                        )
            input(&#34;Press any key to continue&#34;)
        elif choice == &#34;3&#34;:
            # TODO - Make this call a method.
            # TODO - add suppport for non-zenoti. Use the souceID to find the appointment checkinId and call cancelcheckin
            if mySalon.pos_type.lower() == &#34;zenoti&#34;:
                print(&#34;Looking up account information&#34;)
                try:
                    account_id = mySalon.retrive_guest_detail(
                        first_name=FIRST_NAME, last_name=LAST_NAME, phone=PHONE_NUMBER
                    )
                    account_id = account_id[&#34;id&#34;]
                except:
                    print(&#34;Coud not look up account information&#34;)
                # Flow to handle creating an account if none exists
                if not account_id:
                    print(&#34;You neeed to make an account - Creating one&#34;)
                    account_id = mySalon.create_account(
                        first_name=FIRST_NAME,
                        last_name=LAST_NAME,
                        phone_number=PHONE_NUMBER,
                    )
                    account_id = account_id[&#34;id&#34;]
                appointments = mySalon.get_appointments(account_id)
                print(appointments)
                if len(appointments) &gt; 0:
                    print(&#34;Appointment List:&#34;)
                    # Using enumerate with its default start value (0)
                    for slot_num, ap in enumerate(appointments):
                        print(
                            f&#34;Slot Num {slot_num} - Time Slot {ap[&#39;appointment_services&#39;][&#39;start_time&#39;]} \n&#34;
                        )
                    selected_slot_num = None
                    while selected_slot_num is None:
                        selected_slot_num = int(input(&#34;Select Slot:&#34;))
                        # Directly use the input number as the index
                        selected_appointment = appointments[selected_slot_num]
                    print(
                        &#34;Selected Appointment: &#34;
                        + selected_appointment[&#34;appointment_services&#34;][&#34;start_time&#34;]
                    )
                    print(&#34;Cancelling Appointment&#34;)
                    mySalon.cancel_appointment(selected_appointment[&#34;invoice_id&#34;])
                else:
                    print(&#34;No Appointments found&#34;)
            else:
                print(&#34;Looking up appointments&#34;)
                appointments = mySalon.get_check_in_by_source()
                if len(appointments) &gt; 0:
                    # Using enumerate with its default start value (0)
                    for slot_num, ap in enumerate(appointments):
                        print(f&#34;[{slot_num}] - Time Slot {ap[&#39;time&#39;]} \n&#34;)
                    selected_slot_num = None
                    while selected_slot_num is None:
                        selected_slot_num = int(input(&#34;Select Appointment Slot:&#34;))
                        # Directly use the input number as the index
                        selected_appointment = appointments[selected_slot_num]
                    print(&#34;Selected Appointment: &#34; + selected_appointment[&#34;time&#34;])
                    print(&#34;Cancelling Appointment&#34;)
                    mySalon.cancel_checkin(selected_appointment[&#34;checkinId&#34;])
            input(&#34;Press any key to continue&#34;)

        elif choice == &#34;4&#34;:
            print(&#34;\nStore Services:\n&#34;)
            # TODO -  move logic to a method
            if mySalon.pos_type.lower() == &#34;zenoti&#34;:
                for service in mySalon.store_services:
                    print(
                        f&#34;Service Name: {service[&#39;catalog_info&#39;][&#39;display_name&#39;]}, ID: {service[&#39;id&#39;]}\n&#34;
                    )
            else:
                for category in mySalon.store_services:
                    print(f&#34;Category: {category[&#39;category&#39;]}\n&#34;)
                    for service in category[&#34;services&#34;]:
                        print(&#34;  Service ID:&#34;, service[&#34;id&#34;])
                        print(&#34;  Service Name:&#34;, service[&#34;service&#34;])
            input(&#34;Press any key to continue&#34;)

        elif choice == &#34;5&#34;:
            print(&#34;\nStore Stylists:\n&#34;)
            # TODO - move logic to a method
            if mySalon.pos_type.lower() == &#34;zenoti&#34;:
                for therapist in mySalon.therapists:
                    print(
                        f&#34;Stylist Name: {therapist[&#39;personal_info&#39;][&#39;name&#39;]}, ID: {therapist[&#39;id&#39;]}\n&#34;
                    )
            else:
                for therapist in mySalon.therapists:
                    print(f&#34;Stylist Name: {therapist[&#39;name&#39;]}\n&#34;)
            input(&#34;Press any key to continue&#34;)

        elif choice == &#34;6&#34;:
            print(&#34;Exiting program.&#34;)
            break
        else:
            print(&#34;Invalid choice. Please try again.&#34;)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="openCuts" href="index.html">openCuts</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="openCuts.supercuts-cli.clear_screen" href="#openCuts.supercuts-cli.clear_screen">clear_screen</a></code></li>
<li><code><a title="openCuts.supercuts-cli.main_menu" href="#openCuts.supercuts-cli.main_menu">main_menu</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>